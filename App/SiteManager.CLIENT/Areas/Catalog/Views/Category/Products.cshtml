@using SiteManager.CLIENT.Models
@model SiteManager.CLIENT.Models.PaginatedList<SiteManager.CLIENT.Models.ProductViewModel>
@{
	Layout = "_Layout";
}
<nav class="px-6 flex" aria-label="Breadcrumb">
	<ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
		@foreach (var item in ViewBag.Breadcrumb as List<BreadcrumbViewModel>)
		{
			if (item.Slug == "")
			{
				<li class="inline-flex items-center">
					<div class="flex items-center">
						<a href="@Url.Action("Index", "Home")"
                           class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
							<svg class="w-3 h-3 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
							     fill="currentColor" viewBox="0 0 20 20">
								<path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
							</svg>
							@item.Name
						</a>
					</div>
                </li>

            }
            else
            {
	            <li>
		            <div class="flex items-center">
			            <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true"
			                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
				            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
				                  stroke-width="2" d="m1 9 4-4-4-4" />
			            </svg>
                        <a href="@Url.Action("Products", "Category", new { slug = item.Slug })"
                           class="ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white">@item.Name</a>
		            </div>
	            </li>
            }
        }
	</ol>
</nav>
<div class="grid custom-grid-cols-2-3 gap-12 w-full mx-auto mt-6">
    <div class="filter-bar items-start flex flex-col w-full">
        <div class="flex flex-col items-center justify-center pl-4 pr-4 pt-4 w-full">
            <button class="text-black focus:ring-4 w-full filter-button focus:outline-none focus:ring-primary-300 font-medium text-base px-4 py-2.5 text-left inline-flex items-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
                    type="button" onclick="toggleDiv(this)">
                Marka
                <svg class="w-4 h-4 ml-2 transition-transform" aria-hidden="true" fill="none"
                     stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>
            <div class="flex flex-col items-start mx-auto w-full ml-4 my-4 collapsible">
                <ul class="space-y-2 text-sm">
                    <li class="flex items-center">
                        <input id="apple" type="checkbox" value=""
                               class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500" />
                        <label for="apple"
                               class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
                            Apple (56)
                        </label>
                    </li>
                </ul>
            </div>
        </div>
        <div class="flex flex-col items-center justify-center pl-4 pr-4 w-full">
            <button class="text-black focus:ring-4 w-full filter-button focus:outline-none focus:ring-primary-300 font-medium text-base px-4 py-2.5 text-left inline-flex items-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
                    type="button" onclick="toggleDiv(this)">
                Marka
                <svg class="w-4 h-4 ml-2 transition-transform" aria-hidden="true" fill="none"
                     stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>
            <div class="flex flex-col items-start mx-auto w-full ml-4 my-4 collapsible">
                <ul class="space-y-2 text-sm">
                    <li class="flex items-center">
                        <input id="apple" type="checkbox" value=""
                               class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500" />
                        <label for="apple"
                               class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
                            Apple (56)
                        </label>
                    </li>
                </ul>
            </div>
        </div>
        <div class="flex flex-col items-center justify-center pl-4 pr-4 w-full">
            <button class="text-black focus:ring-4 w-full filter-button focus:outline-none focus:ring-primary-300 font-medium text-base px-4 py-2.5 text-left inline-flex items-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
                    type="button" onclick="toggleDiv(this)">
                Renk
                <svg class="w-4 h-4 ml-2 transition-transform" aria-hidden="true" fill="none"
                     stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>
            <div class="flex flex-wrap gap-1 items-start mx-auto w-full ml-4 my-4 collapsible">
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
                <div class="color-option hover:bg-gray-100 pt-2 pl-4 pr-4 pb-4 rounded gap-2 cursor-pointer flex flex-col items-center">
                    <div style="background-color: red;" class="h-8 w-8 rounded-full"></div>
                    <span class="text-xs font-base text-gray-500">Kırmızı</span>
                </div>
            </div>
        </div>
        <div class="flex flex-col items-center justify-center pl-4 pr-4 pb-4 w-full">
            <button class="text-black focus:ring-4 w-full filter-button focus:outline-none focus:ring-primary-300 font-medium text-base px-4 py-2.5 text-left inline-flex items-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
                    type="button" onclick="toggleDiv(this)">
                Beden
                <svg class="w-4 h-4 ml-2 transition-transform" aria-hidden="true" fill="none"
                     stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>
            <div class="flex flex-wrap gap-1 items-start mx-auto w-full ml-4 my-4 collapsible">
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
                <div class="size-option p-4 rounded cursor-pointer hover:bg-gray-100">
                    <span class="text-base">XS</span>
                </div>
            </div>
        </div>
    </div>
    <div class="grid grid-cols-1 gap-2 px-4 ">
        <div class="flex justify-between items-center">
            <div>
                <span class="text-xl font-semibold">@ViewBag.CategoryName (@ViewBag.TotalProducts ürün)</span>
            </div>
            <div>
	            <form method="get" class="max-w-sm mx-auto">
		            <input type="hidden" name="slug" value="@ViewBag.Slug" />
		            <input type="hidden" name="pageIndex" value="@(Model.PageIndex)" />
		            <input type="hidden" name="pageSize" value="@(Model.PageSize)" />
		            <input type="hidden" id="sortOrder" name="sortOrder" value="@ViewBag.SortOrder" />
		            <div class="bg-gray-50 border border-gray-300 text-gray-900 cursor-pointer text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
			            <div>
				            <button>Sırala: @ViewBag.SortOrder</button>
				            <div>
					            <a href="#" onclick="setSortOrder('best')">En iyi sonuçlar</a>
					            <a href="#" onclick="setSortOrder('price_asc')">Fiyat: Düşükten yükseğe</a>
					            <a href="#" onclick="setSortOrder('price_desc')">Fiyat: Yüksekten düşüğe</a>
					            <a href="#" onclick="setSortOrder('name_asc')">İsme göre (A-Z)</a>
					            <a href="#" onclick="setSortOrder('name_desc')">İsme göre (Z-A)</a>
					            <a href="#" onclick="setSortOrder('newest')">İsme göre (Z-A)</a>
					            
				            </div>
			            </div>
		            </div>
	            </form>
                <script>
    function setSortOrder(order) {
        document.getElementById('sortOrder').value = order;
        document.forms[0].submit();
    }
</script>
            </div>
        </div>
        <div class="grid grid-cols-1 mt-6 gap-6 sm:grid-cols-2 md:grid-cols-3 w-fulllg:grid-cols-4">
	        @if (Model != null && Model.Items != null)
	        {
		        @foreach (var product in Model.Items)
		        {
			        <a asp-action="Details" asp-controller="Product" asp-area="Catalog" asp-route-slug="@product.Slug">
				        <div class="flex flex-col gap-3 mx-auto w-full">
					        <div class="list-product-img">
                                <img class="rounded-lg" src="~/Uploads/@product.ImageUrl" alt="">
					        </div>
					        <div class="flex flex-col gap-1">
                                <h1 class="text-base font-semibold hover:underline">@product.Name | @product.Slug</h1>
						        <p class="text-sm text-gray-500">@product.Description</p>
						        <div class="flex items-center justify-between mt-4">
							        <span class="text-lg font-medium">@product.Price TL</span>
							        <button type="button" class="list-add-bag bg-black text-sm text-white px-4 py-1 rounded-lg hover:bg-white hover:text-black">
								        Sepete ekle
							        </button>
						        </div>
					        </div>
				        </div>
			        </a>
		        }
	        }
	        else
	        {
		        <p>No products available.</p>
	        }
        </div>
    @if (Model != null)
    {
	    <div class="flex gap-16 items-center mt-20 mx-auto justify-center">
		    @if (Model.HasPreviousPage)
		    {
			    <div class="relative">
				    <a asp-action="Products" asp-area="Catalog" asp-route-slug="@ViewBag.Slug" asp-route-pageIndex="@(Model.PageIndex - 1)" asp-route-pageSize="@(Model.PageSize)" class="bg-black px-4 py-2 text-sm rounded text-white absolute top-1/2 -translate-x-1/2 -translate-y-1/2 left-1/2">Previous</a>
			    </div>
		    }
		    @if (Model.HasNextPage)
		    {
			    <div class="relative">
                        <a asp-action="Products" asp-area="Catalog" asp-route-slug="@ViewBag.Slug" asp-route-pageIndex="@(Model.PageIndex + 1)" asp-route-pageSize="@(Model.PageSize)" class="bg-black px-4 py-2 text-sm rounded text-white absolute top-1/2 -translate-x-1/2 -translate-y-1/2 left-1/2">Next</a>
			    </div>
		    }
	    </div>
    }
    </div>
</div>